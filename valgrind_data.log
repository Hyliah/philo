==2460486== Helgrind, a thread error detector
==2460486== Copyright (C) 2007-2017, and GNU GPL'd, by OpenWorks LLP et al.
==2460486== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==2460486== Command: ./philo 2 800 200 200 1
==2460486== Parent PID: 2402432
==2460486== 
==2460486== ---Thread-Announcement------------------------------------------
==2460486== 
==2460486== Thread #4 was created
==2460486==    at 0x49A09F3: clone (clone.S:76)
==2460486==    by 0x49A18EE: __clone_internal (clone-internal.c:83)
==2460486==    by 0x490F6D8: create_thread (pthread_create.c:295)
==2460486==    by 0x49101FF: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
==2460486==    by 0x4853767: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x109CC3: init_checker (thread_checker_init.c:24)
==2460486==    by 0x109C2B: philo_handler (philo_handler.c:26)
==2460486==    by 0x1093A0: main (main.c:25)
==2460486== 
==2460486== ----------------------------------------------------------------
==2460486== 
==2460486== Thread #4's call to pthread_mutex_lock failed
==2460486==    with error code 22 (EINVAL: Invalid argument)
==2460486==    at 0x4850D30: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x109FB9: is_all_reps_done (checker_life.c:86)
==2460486==    by 0x109D7C: checker_life (checker_life.c:34)
==2460486==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x490FAC2: start_thread (pthread_create.c:442)
==2460486==    by 0x49A0A03: clone (clone.S:100)
==2460486== 
==2460486== ----------------------------------------------------------------
==2460486== 
==2460486== Thread #4 unlocked an invalid lock at 0x4AA7100
==2460486==    at 0x48511E6: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x10A0A6: is_all_reps_done (checker_life.c:93)
==2460486==    by 0x109D7C: checker_life (checker_life.c:34)
==2460486==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x490FAC2: start_thread (pthread_create.c:442)
==2460486==    by 0x49A0A03: clone (clone.S:100)
==2460486== 
==2460486== ----------------------------------------------------------------
==2460486== 
==2460486== Thread #4's call to pthread_mutex_unlock failed
==2460486==    with error code 22 (EINVAL: Invalid argument)
==2460486==    at 0x4851311: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x10A0A6: is_all_reps_done (checker_life.c:93)
==2460486==    by 0x109D7C: checker_life (checker_life.c:34)
==2460486==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x490FAC2: start_thread (pthread_create.c:442)
==2460486==    by 0x49A0A03: clone (clone.S:100)
==2460486== 
==2460486== ----------------------------------------------------------------
==2460486== 
==2460486== Thread #4's call to pthread_mutex_lock failed
==2460486==    with error code 22 (EINVAL: Invalid argument)
==2460486==    at 0x4850D30: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x109EA8: is_dead (checker_life.c:63)
==2460486==    by 0x109DB8: checker_life (checker_life.c:36)
==2460486==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x490FAC2: start_thread (pthread_create.c:442)
==2460486==    by 0x49A0A03: clone (clone.S:100)
==2460486== 
==2460486== ----------------------------------------------------------------
==2460486== 
==2460486== Thread #4 unlocked an invalid lock at 0x4AA7100
==2460486==    at 0x48511E6: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x109ED5: is_dead (checker_life.c:66)
==2460486==    by 0x109DB8: checker_life (checker_life.c:36)
==2460486==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x490FAC2: start_thread (pthread_create.c:442)
==2460486==    by 0x49A0A03: clone (clone.S:100)
==2460486== 
==2460486== ----------------------------------------------------------------
==2460486== 
==2460486== Thread #4's call to pthread_mutex_unlock failed
==2460486==    with error code 22 (EINVAL: Invalid argument)
==2460486==    at 0x4851311: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x109ED5: is_dead (checker_life.c:66)
==2460486==    by 0x109DB8: checker_life (checker_life.c:36)
==2460486==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x490FAC2: start_thread (pthread_create.c:442)
==2460486==    by 0x49A0A03: clone (clone.S:100)
==2460486== 
==2460486== ---Thread-Announcement------------------------------------------
==2460486== 
==2460486== Thread #2 was created
==2460486==    at 0x49A09F3: clone (clone.S:76)
==2460486==    by 0x49A18EE: __clone_internal (clone-internal.c:83)
==2460486==    by 0x490F6D8: create_thread (pthread_create.c:295)
==2460486==    by 0x49101FF: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
==2460486==    by 0x4853767: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x10A2E0: init_threads (threads_creation.c:32)
==2460486==    by 0x109C11: philo_handler (philo_handler.c:23)
==2460486==    by 0x1093A0: main (main.c:25)
==2460486== 
==2460486== ----------------------------------------------------------------
==2460486== 
==2460486== Thread #2's call to pthread_mutex_lock failed
==2460486==    with error code 22 (EINVAL: Invalid argument)
==2460486==    at 0x4850D30: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x10995A: action_eat (philo_life.c:46)
==2460486==    by 0x109891: philo_life (philo_life.c:30)
==2460486==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x490FAC2: start_thread (pthread_create.c:442)
==2460486==    by 0x49A0A03: clone (clone.S:100)
==2460486== 
==2460486== ----------------------------------------------------------------
==2460486== 
==2460486== Thread #2 unlocked an invalid lock at 0x4AA7100
==2460486==    at 0x48511E6: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x1099A1: action_eat (philo_life.c:60)
==2460486==    by 0x109891: philo_life (philo_life.c:30)
==2460486==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x490FAC2: start_thread (pthread_create.c:442)
==2460486==    by 0x49A0A03: clone (clone.S:100)
==2460486== 
==2460486== ----------------------------------------------------------------
==2460486== 
==2460486== Thread #2's call to pthread_mutex_unlock failed
==2460486==    with error code 22 (EINVAL: Invalid argument)
==2460486==    at 0x4851311: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x1099A1: action_eat (philo_life.c:60)
==2460486==    by 0x109891: philo_life (philo_life.c:30)
==2460486==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x490FAC2: start_thread (pthread_create.c:442)
==2460486==    by 0x49A0A03: clone (clone.S:100)
==2460486== 
==2460486== ---Thread-Announcement------------------------------------------
==2460486== 
==2460486== Thread #1 is the program's root thread
==2460486== 
==2460486== ----------------------------------------------------------------
==2460486== 
==2460486==  Lock at 0x4AA7040 was first observed
==2460486==    at 0x4854BFE: pthread_mutex_init (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x10A746: malloc_mutex_fork (mutex_fork_data.c:27)
==2460486==    by 0x109391: main (main.c:24)
==2460486==  Address 0x4aa7040 is 0 bytes inside a block of size 80 alloc'd
==2460486==    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x10A6E6: malloc_mutex_fork (mutex_fork_data.c:21)
==2460486==    by 0x109391: main (main.c:24)
==2460486==  Block was alloc'd by thread #1
==2460486== 
==2460486==  Lock at 0x4AA7068 was first observed
==2460486==    at 0x4854BFE: pthread_mutex_init (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x10A746: malloc_mutex_fork (mutex_fork_data.c:27)
==2460486==    by 0x109391: main (main.c:24)
==2460486==  Address 0x4aa7068 is 40 bytes inside a block of size 80 alloc'd
==2460486==    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x10A6E6: malloc_mutex_fork (mutex_fork_data.c:21)
==2460486==    by 0x109391: main (main.c:24)
==2460486==  Block was alloc'd by thread #1
==2460486== 
==2460486== Possible data race during read of size 4 at 0x4AA70D0 by thread #4
==2460486== Locks held: none
==2460486==    at 0x10A071: is_all_reps_done (checker_life.c:92)
==2460486==    by 0x109D7C: checker_life (checker_life.c:34)
==2460486==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x490FAC2: start_thread (pthread_create.c:442)
==2460486==    by 0x49A0A03: clone (clone.S:100)
==2460486== 
==2460486== This conflicts with a previous write of size 4 by thread #2
==2460486== Locks held: 2, at addresses 0x4AA7040 0x4AA7068
==2460486==    at 0x10997F: action_eat (philo_life.c:58)
==2460486==    by 0x109891: philo_life (philo_life.c:30)
==2460486==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x490FAC2: start_thread (pthread_create.c:442)
==2460486==    by 0x49A0A03: clone (clone.S:100)
==2460486==  Address 0x4aa70d0 is 0 bytes inside a block of size 176 alloc'd
==2460486==    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==2460486==    by 0x109BCE: philo_handler (philo_handler.c:19)
==2460486==    by 0x1093A0: main (main.c:25)
==2460486==  Block was alloc'd by thread #1
==2460486== 
==2460486== 
==2460486== Use --history-level=approx or =none to gain increased speed, at
==2460486== the cost of reduced accuracy of conflicting-access information
==2460486== For lists of detected and suppressed errors, rerun with: -s
==2460486== ERROR SUMMARY: 2446 errors from 10 contexts (suppressed: 6926 from 100)
